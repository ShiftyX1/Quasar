# Начало работы с фронтендом Quasar Chat

## Требования

Для работы с фронтендом Quasar Chat необходимо установить:

- Node.js (версия 18.0.0 или выше)
- npm (версия 8.0.0 или выше)
- Клонированный репозиторий проекта

## Установка

1. Клонируйте репозиторий (если еще не сделали):
   ```bash
   git clone https://github.com/yourusername/quasar-chat.git
   cd quasar-chat
   ```

2. Перейдите в директорию фронтенда:
   ```bash
   cd frontend
   ```

3. Установите зависимости:
   ```bash
   npm install
   ```

## Настройка окружения

1. Создайте файл `.env.local` в корне директории frontend со следующим содержимым:
   ```
   NEXT_PUBLIC_API_URL=http://localhost:3001
   NEXT_PUBLIC_SOCKET_URL=http://localhost:3001
   ```

   Эти переменные определяют URL для API и WebSocket соединений.

## Запуск в режиме разработки

Для запуска приложения в режиме разработки выполните:

```bash
npm run dev
```

Приложение будет доступно по адресу `http://localhost:3000`.

## Сборка для production

Для сборки приложения для production выполните:

```bash
npm run build
```

После сборки вы можете запустить production-версию:

```bash
npm run start
```

## Работа с бэкендом

Фронтенд Quasar Chat работает в паре с бэкендом. Для полноценной работы приложения необходимо:

1. Установить и настроить бэкенд (см. документацию в директории `/backend`)
2. Запустить бэкенд до запуска фронтенда
3. Убедиться, что переменные окружения правильно указывают на адрес бэкенда

## Структура проекта

Основные директории проекта:

```
frontend/
├── public/              # Статические файлы
├── src/                 # Исходный код
│   ├── api/             # API клиенты
│   ├── app/             # Страницы Next.js (File-based routing)
│   ├── components/      # React компоненты
│   ├── context/         # React контексты
│   ├── hooks/           # Кастомные React хуки
│   └── lib/             # Вспомогательные библиотеки
├── docs/                # Документация
└── ...
```

## Тестирование

### Запуск тестов

```bash
# Запуск всех тестов
npm run test

# Запуск тестов в watch-режиме
npm run test:watch

# Запуск тестов с покрытием
npm run test:coverage
```

## Линтинг и форматирование

Проект использует ESLint и Prettier для проверки и форматирования кода:

```bash
# Проверка кода с помощью ESLint
npm run lint

# Автоматическое исправление проблем с ESLint
npm run lint:fix

# Форматирование кода с помощью Prettier
npm run format
```

## Основные сценарии использования

### Авторизация пользователя

1. Откройте приложение по адресу `http://localhost:3000`
2. Для существующего пользователя нажмите "Войти" и введите учетные данные
3. Для нового пользователя нажмите "Регистрация" и заполните форму

### Создание комнаты

1. После авторизации на главной странице нажмите "Создать комнату"
2. Введите название комнаты и нажмите "Создать"
3. Вы будете перенаправлены в созданную комнату

### Присоединение к комнате

1. После авторизации на главной странице нажмите "Присоединиться к комнате"
2. Введите код доступа к комнате и нажмите "Присоединиться"
3. Вы будете перенаправлены в комнату

### Обмен сообщениями

1. Откройте комнату из списка комнат на главной странице или в боковой панели
2. Введите сообщение в поле ввода и нажмите Enter или кнопку отправки
3. Сообщение будет отправлено и отображено всем участникам комнаты

## Решение проблем

### Не удается подключиться к серверу

1. Убедитесь, что бэкенд запущен и доступен
2. Проверьте настройки в файле `.env.local`
3. Проверьте консоль браузера на наличие ошибок CORS

### Сообщения не отправляются или не приходят

1. Проверьте WebSocket соединение в консоли браузера
2. Убедитесь, что вы правильно подключены к комнате
3. Перезагрузите страницу для переподключения к WebSocket

### Ошибки аутентификации

1. Убедитесь, что вы ввели правильные учетные данные
2. Проверьте, не истекла ли сессия (особенно после длительного бездействия)
3. Попробуйте выйти и снова войти в систему

## Дополнительная документация

- [Архитектура фронтенда](./ARCHITECTURE.md)
- [API и хуки](./API_AND_HOOKS.md)
- [Компоненты](./COMPONENTS.md)

## Контрибьютинг

Перед внесением изменений в проект, пожалуйста, ознакомьтесь с нашими [правилами контрибьютинга](./CONTRIBUTING.md).

## Лицензия

Проект распространяется под [MIT лицензией](../LICENSE). 